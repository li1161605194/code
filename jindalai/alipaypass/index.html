<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>卡券编辑</title>
	<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"  />
    <link rel="stylesheet" href="css/bootstrap-colorpicker.css" type="text/css" />
    <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" type="text/css" />
    <link rel="stylesheet" href="css/bootstrap.reset.css" type="text/css" />
    <link rel="stylesheet" href="css/common.css" type="text/css" />
    <link rel="stylesheet" href="css/nav-global.css" type="text/css" />
    <!--[if lt IE 9]>
    <script type="text/javascript">
        // html5shiv MIT @rem remysharp.com/html5-enabling-script
        // iepp v1.6.2 MIT @jon_neal iecss.com/print-protector
        /*@cc_on(function(a,b){function r(a){var b=-1;while(++b<f)a.createElement(e[b])}if(!(!window.attachEvent||!b.createStyleSheet||!function(){var a=document.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}())){a.iepp=a.iepp||{};var c=a.iepp,d=c.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",e=d.split("|"),f=e.length,g=new RegExp("(^|\\s)("+d+")","gi"),h=new RegExp("<(/*)("+d+")","gi"),i=/^\s*[\{\}]\s*$/,j=new RegExp("(^|[^\\n]*?\\s)("+d+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),k=b.createDocumentFragment(),l=b.documentElement,m=l.firstChild,n=b.createElement("body"),o=b.createElement("style"),p=/print|all/,q;c.getCSS=function(a,b){if(a+""===undefined)return"";var d=-1,e=a.length,f,g=[];while(++d<e){f=a[d];if(f.disabled)continue;b=f.media||b,p.test(b)&&g.push(c.getCSS(f.imports,b),f.cssText),b="all"}return g.join("")},c.parseCSS=function(a){var b=[],c;while((c=j.exec(a))!=null)b.push(((i.exec(c[1])?"\n":c[1])+c[2]+c[3]).replace(g,"$1.iepp_$2")+c[4]);return b.join("\n")},c.writeHTML=function(){var a=-1;q=q||b.body;while(++a<f){var c=b.getElementsByTagName(e[a]),d=c.length,g=-1;while(++g<d)c[g].className.indexOf("iepp_")<0&&(c[g].className+=" iepp_"+e[a])}k.appendChild(q),l.appendChild(n),n.className=q.className,n.id=q.id,n.innerHTML=q.innerHTML.replace(h,"<$1font")},c._beforePrint=function(){o.styleSheet.cssText=c.parseCSS(c.getCSS(b.styleSheets,"all")),c.writeHTML()},c.restoreHTML=function(){n.innerHTML="",l.removeChild(n),l.appendChild(q)},c._afterPrint=function(){c.restoreHTML(),o.styleSheet.cssText=""},r(b),r(k);if(c.disablePP)return;m.insertBefore(o,m.firstChild),o.media="print",o.className="iepp-printshim",a.attachEvent("onbeforeprint",c._beforePrint),a.attachEvent("onafterprint",c._afterPrint)}})(this,document)@*/
    </script>
    <![endif]-->
    <!--[if lt IE 8]>
    <script type="text/javascript" src="js/public/json2.js" charset="utf-8"></script>
    <![endif]-->
    <script type="text/javascript" src="js/common/jquery.min.js" charset="utf-8"></script>
</head>

<!--[if lt IE 7]><body class="ie6"><![endif]-->
<!--[if IE 7]><body class="ie7"><![endif]-->
<!--[if IE 8]><body class="ie8"><![endif]-->
<!--[if !IE]><!--><body><!--<![endif]-->




<header id="J_header" class="mi-header bg-white">
    <div class="fn-clear mi-header-cnt">
        <div class="fn-left">
                <div class="logo-word black-word fn-left">卡券编辑器</div>
                    </div>
        <nav class="fn-right">       	
            <ul class="clearfix">
                <li class=" "><a href="/" class="page-home" title=""></a></li>
                <li class=" "><a href="/help/introIndex.htm" class="page-introduction" title=""></a> </li>
                <li class="current"><a href="javascript:void(0)" class="page-news-and-updates" title="编辑器">编辑器</a></li>
                <li class=" "><a href="/builder/myAlipassIndex.htm" class="page-news-and-updates" title="我的Alipass"></a>  </li>
                <li class=" ">
                    <a href="https://openhome.alipay.com/doc/docIndex.htm?url=https://openhome.alipay.com/doc/viewKbDoc.htm?key=236698&type=cat"
                       class="create-passbook-passes" target="_blank" title=""></a>
                </li>
            </ul>   	
        </nav>

    </div>
</header>
<style type="text/css">
	ul{
		padding: 0;
		margin: 0;
	}
    ol, ul, li {
        list-style: none
    }
    a{
        color: #08c;
        text-decoration: none;
        outline: none;
    }

    a:hover {
        text-decoration: underline;
    }
    .mi-header {
	    height: 70px;
	    width: 100%;
	    background: #294372;
	    margin-bottom: 1px;
    }
    .fn-left{
        float: left;
    }
    .fn-right{
        float: right;
    }
    .fn-hide{
        display: none;
    }
    .mi-header .mi-header-cnt {
        width: 1100px;
        margin: 0 auto;
        height: 47px;
        padding-top: 15px;
        line-height: 32px;
        position: relative;
    }
    .mi-header-cnt .logo{
        width: 90px;
        height:27px;
        margin:7px auto 0 ;
        border-right: 1px solid #54698e;
        background: url(https://i.alipayobjects.com/i/ecmng/png/201403/2IWKIDaN5Z.png) no-repeat;
    }
    .mi-header-cnt .logo:hover{text-decoration: none;}
    .mi-header-cnt a:hover{text-decoration: none;}

    .mi-header-cnt .logo-word{
        width:120px;
        font-size: 20px;
        color: #fff;
        padding:0 33px 11px 10px;
        margin:5px 0px 0px 5px;
        cursor:default;
        position: relative;
        z-index: 1;

    }
    .platform-select{
        position: absolute;
        left:-1px;
        top:42px;
        background: #fff;
        font-size: 16px;
        border:1px solid #ccc;
        border-top:0;
    }
    .platform-select .deflaut{
        width: 153px;
        line-height: 36px;
        padding-left:10px;
        cursor:default;
    }
    .platform-select .deflaut.select-hover{
        background: #eee;
    }
    .platform-select .deflaut a{
        color: #333!important;
    }
    .mi-header-cnt .item {
    }

    .mi-notice {
        font-size: 14px;
        border: 1px solid #e1e1ca;
        background-color: #fff
    }

    /*登陆信息*/
    .login-info{
        margin-top:10px;
    }
    .login-info .item {
        color: #cfd3db;
        padding: 0 10px;
        border-right: 1px solid #54698e;
    }
    .hovera:hover{
        text-decoration: underline!important;
    }
    .login-info .platform-item{
        font-size: 16px;
        color: #666;
        padding-right: 67px;
    }

    .login-info .last-login-item {
        padding-right: 0;
        border-right: 0;
    }

    .login-info .last-platform-item{
        padding-right: 0;
    }

    .bg-white{
        background: #fff;
    }
    .mi-header-cnt .index-logo{
        width: 90px;
        height:27px;
        margin:7px auto 0 ;
        border-right: 1px solid #54698e;
        /* background: url(https://i.alipayobjects.com/i/ecmng/png/201403/2LNS7Im93N.png) no-repeat 0px -1px; */
    }
    .black-word{
        color: #333!important;
    }
    .mi-header-cnt{
    	position: relative;
    }
    .logoText{
    	width: 120px;
		font-size: 20px;
		color: #fff;
		padding: 0 33px 11px 10px;
		margin: 5px 0px 0px 5px;
		cursor: default;
		position: relative;
		z-index: 1;
    }
    nav>ul>li{
    	float:left;
    	padding-top: 14px;
    	height: 34px;
    }
    nav>ul>li a{
    	color: #666;
    	font-size: 16px;
    	line-height: 34px;
    	display: block;
    	padding: 0 20px;   	
    }
    nav>ul>li a:hover{
    	color: #f60;
    }
    nav>ul>li.current a{
    	color: #f60;
    	background: #f9f9f9;
    	border-radius: 6px;
    }
    .sup-nav{
    	position: absolute;
    	padding: 6px 0;  
    	right: 0;
    	top: 0	
    }
    .sup-nav>li{
    	float: left;
    	padding: 1px 15px;
    	line-height: 12px;
    	border-left: 1px solid #fefefe;
		border-right: 1px solid #e2e2e2;
    }
    .sup-nav>li:first-child{
    	border-left: none;
    }
    .sup-nav>li:last-child{
    	padding-right: 20px;
		border-right: none;
    }
    .sup-nav>li a{
    	color: #666;
    	font-size: 12px;
    }
    canvas{display: none;opacity: 0;}
</style>
<div id="J-loginDialog" class="modal" style="display: none;">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>登录</h3>
    </div>
    <div class="modal-body">

    </div>
</div>

<link rel="stylesheet" href="css/edit.css" type="text/css"/>
<link rel="stylesheet" href="css/pass.css" type="text/css"/>

<input type="hidden" name="defaultProduct" value="default"/>
<input type="hidden" name="product" value="default"/>
<input type="hidden" name="products" value="free,price,groupon,ticket,tourist,movie,hotel,boarding,air,train,bus"/>
<input type="hidden" name="passEditId" value="123456"/>
<input type="hidden" name="tempId" value="2016052617435058993902411"/>
<input type="hidden" name="copyFrom" value=""/>
<input type="hidden" name="func" value=""/>
<input type="hidden" name="rookie" value=""/>

<div class="container-common" id="main" style="width: 100%;">
<div class="main-container">
<div class="edit-container" id="edit" data-bind="with: model">
<div id="basicInfo" class="edit-wrapper on" data-limit="">
    <div class="intro">此处设置Alipass的基本属性，包括<span class="key_params">模板</span>、<span class="key_params">业务类型</span>、<span
            class="key_params">标题</span>、<span class="key_params">Logo</span>、<span class="key_params">生效时间</span>、<span
            class="key_params">失效时间</span>等。
    </div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">

            <p style="font-size:16px;">选择想要的<span class="key_params">模板</span>开始设计Alipass，带<span
                    style="color: red;font-weight: bold;">*</span>的必填内容完成后，即可进入下一步。
            </p>

            <p><i>注：基本属性设置将决定Alipass的整体风格和使用时效。</i></p>

        </div>
    </div>
    <div class="quanTypeList clearfix" data-bind="selectedType:type">
                <dl class="coupon " data-value="coupon">
            <dt>模板一</dt>
            <dd><img width="100px" src="img/coupon.png" alt=""/></dd>
        </dl>
                <dl class="eventTicket " data-value="eventTicket">
            <dt>模板二</dt>
            <dd><img width="100px" src="img/eventTicket.png" alt=""/></dd>
        </dl>
                <dl class="boardingPass  selected " data-value="boardingPass">
            <dt>模板三</dt>
            <dd><img width="100px" src="img/boardingPass.png" alt=""/></dd>
        </dl>
            </div>
    <div class="fields-box">
        <div class="form-horizontal fields-box-bd">
            <div class="control-group">
                <label class="control-label">业务类型</label>

                <div class="controls">
                    <select style="width: 200px;" data-bind="value: product,click:changePassView">
                                                <option value="free"
                         > 优惠券</option>
                                                <option value="price"
                         > 兑换券</option>
                                                <option value="groupon"
                         > 团购券</option>
                                                <option value="ticket"
                         > 入场券</option>
                                                <option value="tourist"
                         > 门票</option>
                                                <option value="movie"
                         > 电影票</option>
                                                <option value="hotel"
                         > 酒店</option>
                                                <option value="boarding"
                         > 登机牌</option>
                                                <option value="air"
                         > 机票</option>
                                                <option value="train"
                         > 火车票</option>
                                                <option value="bus"
                         > 汽车票</option>
                                            </select>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">背景色</label>

                <div class="controls">
                    <div class="input-append color bscp">
                        <input style="width: 158px;" type="text" class="span2" value=""
                               data-bind="pickColor: backgroundColor"
                               data-color-format="rgb">
                        <span class="add-on"><i></i></span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">生效日期<span style="color: red;">*</span></label>

                <div class="controls">
                    <input type="text" class="span3"
                           data-bind="value: startDate, valueUpdate: 'afterkeydown blur',checkedValue:startDate" />
                    <div class="datetimepicker input-append date">
                        <input style="width: 158px;" data-format="yyyy-MM-dd hh:mm:ss" readonly type="text"
                               data-bind="datetimepicker: startDate" class="hide" />
                        <span class="add-on">
                            <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">失效日期<span style="color: red;">*</span></label>

                <div class="controls">
                    <input type="text" class="span3"
                           data-bind="value: endDate, valueUpdate: 'afterkeydown blur',checkedValue:endDate" />
                    <div class="datetimepicker input-append date">
                        <input style="width: 158px;" data-format="yyyy-MM-dd hh:mm:ss" readonly type="text"
                               data-bind="datetimepicker: endDate" class="hide"/>
                        <span class="add-on">
                            <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">标题<span style="color: red;">*</span></label>

                <div class="controls">
                    <input type="text" name="image" placeholder="这是Alipass的标题" maxlength="50" class="span4"
                           data-bind="value: logoText, valueUpdate: 'afterkeydown blur',checkedValue:logoText">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">副标题</label>

                <div class="controls">
                    <input type="text" name="image" placeholder="这是辅助标题" maxlength="50" class="span4"
                           data-bind="value: secondLogoText, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Logo<span style="color: red;">*</span></label>

                <div class="controls">
                    <form class="input-append" data-role="logo" data-bind="pickFile: logo">
                    								<input type="hidden" name="_form_token" value="sSKfrOWYRiGHzHaEIAPBzUPsqtYOv0Kx"/>
                        <input class="span3 uneditable-input" placeholder="请上传60*60的Logo图片" type="text"
                               readonly="readonly"/>
                        <input type="file" style="display:none" name="image"/>
                        <button setimgid="1" class="btn" type="button">选择文件</button>
                        <a href="javascript:;" class="btn btn-link" data-role="del">删除</a>
                        <!--a href="javascript:;" class="btn btn-link" data-role="edit">编辑</a-->
                    </form>
                    <p class="help-block"></p>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">海报</label>

                <div class="controls">
                    <form class="input-append" data-role="strip" data-bind="pickFile: strip">
                    								<input type="hidden" name="_form_token" value="NfEWZYG9IsR2dnZDUq2d10xPen48VfCg"/>
                        <input class="span3 uneditable-input" placeholder="请上传302*100或136*164的图片" type="text"
                               readonly="readonly"/>
                        <input id="transfer_img" type="file" style="display:none" name="image"/>
                        <button setimgid="2" class="btn" type="button">选择文件</button>
                        <a href="javascript:;" class="btn btn-link" data-role="del">删除</a>
                        <!--a href="javascript:;" class="btn btn-link" data-role="edit">编辑</a-->
                    </form>
                    <p class="help-block"></p>
                </div>
            </div>
			<div class="control-group">
                <div class="controls">
                    <div class="checkbox">
                        <label>
                          <input type="checkbox" value="true" data-bind="checked : canPresent" />支持用户赠送给TA人使用
                        </label>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <div class="controls">
                    <div class="checkbox" style="float:left;margin-right:10px;">
                        <label>
                            <input type="checkbox" value="true" data-bind="checked : supportTaxi,valueUpdate:'change'" />支持打车功能
                        </label>
                    </div>
                    <select style="width: 200px;" data-bind="value: taxiSchemaUrl,visible:supportTaxi()">
                        <!-- CMS:alipassprod cms/flashsales/supportTaxi.vm开始:alipassprod/flashsales/supportTaxi.vm -->
			<option value="alipays://platformapi/startapp?appId=20000778">滴滴出行</option>
	
<!-- CMS:alipassprod cms/flashsales/supportTaxi.vm结束:alipassprod/flashsales/supportTaxi.vm -->                    </select>
                </div>
            </div>
			
        </div>
    </div>
    <div class="fields-box-action">
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="headFields" class="edit-wrapper" data-limit="2">
    <div class="intro">可选区域，内容会显示在Alipass顶部右上角。根据不同行业，可以设计为状态、日期、数量等内容的显示。</div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">头部区块的内容显示在Alipass顶栏右上角，左边预览看到效果时，即可进入下一步。</p>

            <p><i>注：根据不同行业需要，可以设计为状态、日期、数量、检票口、登机口等显要内容。</i></p>


        </div>
    </div>
    <!-- ko with: headFields -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'baseinfounit-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: headFields.append, enable: headFields.items().length < headFields.limit">添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="primaryFields" class="edit-wrapper" data-limit="2">
    <div class="intro"><p>可选区域，Alipass关键信息区域，选择不同的模板会有不同展示效果。</p>

        <p>如果选择<span class="key_params">机票</span>、<span class="key_params">登机牌</span>、<span
                class="key_params">火车票</span>或<span class="key_params">汽车票</span>业务类型，必须包含名称为<span
                class="key_params">from</span>和<span
                class="key_params">to</span>的属性。</p>
    </div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">点击“添加一项”即可新增一项编辑框，显示名称、显示内容为用户可见的业务信息。</p>

            <p><i>注：Alipass关键信息区域，选择不同的模板会有不同展示效果。</i></p>

        </div>
    </div>
    <div class="userGuide-tool" data-product="air">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">点击“添加一项”即可新增一项编辑框，显示名称、显示内容为用户可见的业务信息。</p>

            <p style="font-size:16px;"><span class="key_params">机票</span>类型，必须包含名称为<span
                    class="key_params">from</span>和<span
                    class="key_params">to</span>的属性。</p>

            <p><i>注：Alipass关键信息区域，选择不同的模板会有不同展示效果。</i></p>

        </div>
    </div>
    <div class="userGuide-tool" data-product="boarding">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">点击“添加一项”即可新增一项编辑框，显示名称、显示内容为用户可见的业务信息。</p>

            <p style="font-size:16px;"><span class="key_params">登机牌</span>类型，必须包含名称为<span
                    class="key_params">from</span>和<span
                    class="key_params">to</span>的属性。</p>

            <p><i>注：Alipass关键信息区域，选择不同的模板会有不同展示效果。</i></p>

        </div>
    </div>
    <div class="userGuide-tool" data-product="train">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">点击“添加一项”即可新增一项编辑框，显示名称、显示内容为用户可见的业务信息。</p>

            <p style="font-size:16px;"><span class="key_params">火车票</span>类型，必须包含名称为<span
                    class="key_params">from</span>和<span
                    class="key_params">to</span>的属性。</p>

            <p><i>注：Alipass关键信息区域，选择不同的模板会有不同展示效果。</i></p>

        </div>
    </div>
    <div class="userGuide-tool" data-product="bus">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">点击“添加一项”即可新增一项编辑框，显示名称、显示内容为用户可见的业务信息。</p>

            <p style="font-size:16px;"><span class="key_params">汽车票</span>类型，必须包含名称为<span
                    class="key_params">from</span>和<span
                    class="key_params">to</span>的属性。</p>

            <p><i>注：Alipass关键信息显示区域，选择不同的模板会有不同展示效果。</i></p>

        </div>
    </div>
    <!-- ko with: primaryFields -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'infounit-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: primaryFields.append, enable: primaryFields.items().length < primaryFields.limit">添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="secondaryFields" class="edit-wrapper" data-limit="4">
    <div class="intro"><p>可选区域，位于Alipass正面的中间位置，用于展示简短、重要的信息。</p>

        <p>如果选择<span class="key_params">机票</span>或<span
                class="key_params">登机牌</span>的业务类型,必须包含名称为<span
                class="key_params">fltNo</span>的属性;</p>

        <p>如果选择<span class="key_params">火车票</span>的业务类型,必须包含名称为<span
                class="key_params">trainNo</span>的属性;</p>

        <p>如果选择<span class="key_params">汽车票</span>的业务类型,必须包含名称为<span
                class="key_params">busNo</span>的属性。</p>
    </div>
    <div class="userGuide-tool" data-product="bus">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">显示名称、显示内容至少填写一个后，可进入下一步。</p>

            <p style="font-size:16px;"><span class="key_params">汽车票</span>类型,必须包含名称为<span
                    class="key_params">trainNo</span>的属性。</p>

            <p><i>注：该区域用于展示简短、重要的信息。最多可支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>

    <div class="userGuide-tool" data-product="train">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">显示名称、显示内容至少填写一个后，可进入下一步。</p>

            <p style="font-size:16px;"><span class="key_params">火车票</span>类型,必须包含名称为<span
                    class="key_params">to</span>的属性。</p>

            <p><i>注：该区域用于展示简短、重要的信息。最多可支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>


    <div class="userGuide-tool" data-product="air">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">显示名称、显示内容至少填写一个后，可进入下一步。</p>

            <p style="font-size:16px;"><span class="key_params">机票</span>类型,必须包含名称为<span
                    class="key_params">fltNo</span>的属性。</p>

            <p><i>注：该区域用于展示简短、重要的信息。最多可支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>
    <div class="userGuide-tool" data-product="boarding">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">显示名称、显示内容至少填写一个后，可进入下一步。</p>

            <p style="font-size:16px;"><span class="key_params">登机牌</span>类型,必须包含名称为<span
                    class="key_params">fltNo</span>的属性。</p>

            <p><i>注：该区域用于展示简短、重要的信息。最多可支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>

    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">显示名称、显示内容至少填写一个后，可进入下一步。</p>

            <p><i>注：该区域用于展示简短、重要的信息。最多可支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>
    <!-- ko with: secondaryFields -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'infounit-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: secondaryFields.append, enable: secondaryFields.items().length < secondaryFields.limit">
            添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="auxiliaryFields" class="edit-wrapper" data-limit="4">
    <div class="intro">可选区域，最多可展示4列。</div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">这里可以继续放置其他附加业务信息，或者直接进入下一步。</p>

            <p><i>注：最多支持4列，内容超过一定长度会换行显示。</i></p>

        </div>
    </div>
    <!-- ko with: auxiliaryFields -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'infounit-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: auxiliaryFields.append, enable: auxiliaryFields.items().length < auxiliaryFields.limit">
            添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="operation" class="edit-wrapper" data-limit="-1">
    <div class="intro">可选区域，可放置核销信息，如二维码、条码、声波等，同样也支持文本、启动应用的按钮等内容展示。</div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">此区块内容可选填。但如果需要进行核销，最好添加一个核销信息。</p>

            <p><i>注：该区块主要放置核销方式，如二维码、条码、声波、文本等；同样也支持按钮、URL操作。</i></p>

        </div>
    </div>
    <div class="fields-box-wrapper">
        <div class="fields-box">
            <div class="fields-box-hd clearfix"><h4>核销模式</h4></div>
            <section class="fields-box-bd" style="padding-top: 10px;" data-bind="siftOperation:isAlipayVerify">
                <div class="control-group">
                    <div class="controls">
                        <label class="radio inline">
                            <input type="radio" name="verify" value="false" data-bind="checked : isAlipayVerify"/>自定义核销模式
                        </label>
                        <label class="radio inline">
                            <input type="radio" name="verify" value="true" data-bind="checked : isAlipayVerify"/>支付宝发码模式
                        </label>
                    </div>
                </div>
            </section>
        </div>
        <div class="fields-box" data-bind="visible: isAlipayVerify() == 'true'">
            <div class="fields-box-hd clearfix"><h4>核销方式</h4></div>
            <section class="fields-box-bd" style="padding-top: 10px;">
                <div class="control-group">
                    <div class="controls">
                        <label class="checkbox inline">
                            <input type="checkbox" value="wave" data-bind="checked : alipayVerify"/>声波
                        </label>
                        <label class="checkbox inline">
                            <input type="checkbox" value="text" data-bind="checked : alipayVerify"/>文本
                        </label>
                        <label class="checkbox inline">
                            <input type="checkbox" value="barcode" data-bind="checked : alipayVerify"/>条码
                        </label>
                        <label class="checkbox inline">
                            <input type="checkbox" value="qrcode" data-bind="checked : alipayVerify"/>二维码
                        </label>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <!-- ko with: operation -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'operation-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: operation.append, enable: operation.items().length < operation.limit">添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="backFields" class="edit-wrapper" data-limit="-1">
    <div class="intro">可选区域，第一块内容为客户端的跳转入口，下面部分可放置地址、链接、电话、详情、声明等。</div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p style="font-size:16px;">第一块内容可以放置手机的APP信息，如果没有APP,请忽略。</p>

            <p style="font-size:16px;">其他部分可放置详情、地址、电话等信息。自由填写后，进入最后一步。</p>

            
        </div>
    </div>
    <div class="fields-box">
        <div class="fields-box-hd clearfix"><h4>应用信息</h4></div>
        <div class="form-horizontal fields-box-bd collapse" id="J-appInfo">
            <div class="control-group">
                <label class="control-label">应用图标</label>

                <div class="controls">
                    <form class="input-append" data-bind="pickFile: icon">
	                    							<input type="hidden" name="_form_token" value="ySRfMFpSubCJGkwhfgcW0DxO2FwBw7QJ"/>
                        <input class="span3 uneditable-input" placeholder="请上传60*60的应用icon图片" type="text"
                               readonly="readonly"/>
                        <input type="file" style="display:none" name="image"/>
                        <button setimgid="3" class="btn" type="button">选择文件</button>
                        <a href="javascript:;" class="btn btn-link">删除</a>
                    </form>
                    <p class="help-block"></p>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">应用名称</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="应用的名称"
                           data-bind="value: appName, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">应用信息</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="应用的概要描述"
                           data-bind="value: appInfo, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <!-- ko with: appData -->
            <div class="control-group">
                <label class="control-label">Android应用ID</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="Android系统里应用的唯一标识"
                           data-bind="value: android_appid, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Android启动地址</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="在Android系统里唤起应用的命令"
                           data-bind="value: android_launch, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Android下载地址</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="Android版应用的下载地址"
                           data-bind="value: android_download, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">iOS应用ID</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="iOS系统里应用的唯一标识"
                           data-bind="value: ios_appid, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">iOS启动地址</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="在iOS系统里唤起应用的命令"
                           data-bind="value: ios_launch, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">iOS下载地址</label>

                <div class="controls">
                    <input type="text" name="image" class="span4" placeholder="iOS版应用的下载地址"
                           data-bind="value: ios_download, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <!-- /ko -->
        </div>
        <div class="fields-box-ft"><a href="javascript:;" class="intro-control intro-down" data-toggle="collapse"
                                      data-target="#J-appInfo"></a></div>
    </div>
    <!-- ko with: backFields -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'infounit-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: backFields.append, enable: backFields.items().length < backFields.limit">添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="locations" class="edit-wrapper" data-limit="-1">
    <div class="intro">可选区域，添加这些地理位置信息，会有助于Alipass的使用。</div>
    <div class="userGuide-tool" data-product="default">
        <div class="userGuide-tool-title"></div>
        <div class="userGuide-tool-body">
            <p>地理信息（可选），添加这些地理位置信息，会有助于Alipass的使用。</p>

        </div>
    </div>
    <!-- ko with: locations -->
    <div class="fields-box-wrapper"
         data-bind="foreach: {data: items, afterAdd: animateAdded, beforeRemove: removeWithAnimation}">
        <div class="fields-box" data-bind="sortable: $parent.items">
            <div class="fields-box-hd" data-bind="template: {name: 'hd-template'}"></div>
            <div class="form-horizontal fields-box-bd"
                 data-bind="template: {name: 'location-template'}">
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="fields-box-action">
        <button type="button" class="btn btn-large"
                data-bind="click: locations.append, enable: locations.items().length < locations.limit">添加一项
        </button>
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="share" class="edit-wrapper" data-limit="-1">
    <div class="intro">设置同一张Alipass是否支持多人公用，编辑商户的信息。</div>
    <div class="fields-box">
        <div class="form-horizontal fields-box-bd">
            <div class="control-group">
                <label class="control-label" title="选择共享，alipass就可以被其他人使用。">支持共享</label>

                <div class="controls" data-bind="checkedRadio:canShare">
                    <label class="radio inline">
                        <input type="radio" name="canShare" value="true"/>支持
                    </label>
                    <label class="radio inline">
                        <input type="radio" name="canShare" value="false"/>不支持
                    </label>
                    <!--select data-bind="value: canShare">
                        <option value="true">共享</option>
                        <option value="false">不共享</option>
                    </select-->
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">商户名称<span style="color: red;">*</span></label>

                <div class="controls">
                    <input type="text" name="mname" class="span4"
                           data-bind="value: mname, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">网站地址</label>

                <div class="controls">
                    <input type="text" name="minfo" class="span4"
                           data-bind="value: minfo, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">联系电话</label>

                <div class="controls">
                    <input type="text" name="mtel" class="span4"
                           data-bind="value: mtel, valueUpdate: 'afterkeydown blur'">
                </div>
            </div>
        </div>
    </div>
    <div class="fields-box-action">
        <button type="button" class="btn btn-large btn-primary" data-role="nextStep">下一步</button>
    </div>
</div>
<div id="savePass" class="edit-wrapper" data-limit="-1">
    <div class="intro">
        点击按钮生成JSON参数。<br>
        复制JSON参数,生成卡券模板。<br>

    </div>
    <div id="J_paramDateTxtDown" class="hide">该电子券日期设置为变量，不支持生成二维码，<a href="">点击下载alipass</a></div>
    <div id="AliPassQRCode"></div>
    <div class="fields-box-action">
        <p id="J-QRCode-result" style="text-align: left; color: #ff0000; "></p>

        <p id="J-result-title" style="text-align: left;"></p>

        <p id="J-result-pic"></p>
        <button type="button" class="btn btn-large" data-bind="click:submit">生成JSON参数</button>
    </div>
    <div class="fields-box-action jsondatak">
        <textarea class="card-json-k" id="card-json" rows="14" style="width:500px" ></textarea>
    </div>

</div>
</div>
<div class="tabs-container" data-bind="with: model">
    <div class="left-tabs clearfix" data-bind="changeEditFlow:showBack">
        <a href="#basicInfo" class="on" hideFocus>基本设置</a>
        <a href="#faceFields" hideFocus>正面区域</a>
        <a href="#backFields" hideFocus>背面区域</a>
        <a href="#locations" hideFocus>地理信息</a>
        <!--a href="#share" hideFocus>其他信息</a-->
        <a href="#savePass" hideFocus>保存发布</a>
    </div>
</div>
<div class="pass-container" data-bind="with: model">
    <div style="height: 420px;overflow: hidden;" data-bind="style: {backgroundColor: backgroundColor}">
        <div id="pass" data-bind="css:className(),flipBack: showBack">
            <div class="pass-front">
                <div class="head">
                    <div id="localImag1" class="logo">
                        <img id="preview1" data-bind="src: logo">
                    </div>
                    <div class="titles"  data-bind="css: {'titles-double': secondLogoText}">
                        <div class="title" data-bind="text: logoText"></div>
                        <div class="subtitle" data-bind="text: secondLogoText"></div>
                    </div>
                    <div class="headRight" id="J-headField"  data-rel="tooltip" data-pass-range="headFields" title="头部区块">
                        <!-- ko template: {name: 'items-template', data: headFields} -->
                        <!-- /ko -->
                    </div>
                </div>
                <div class="content" data-bind="css: {'without-strip': type() == 'coupon' &amp;&amp; !strip()}">
                    <div class="clearfix primary-box">
                        <div id="localImag2" class="strip">
                            <img id="preview2" data-bind="src: strip" src="" alt="" />
                        </div>
                        <div class="primary" data-rel="tooltip" data-pass-range="primaryFields" title="第一区块" data-bind="template: {name: 'items-template', data: primaryFields}"></div>
                    </div>
                    <div class="secondary" data-rel="tooltip" data-pass-range="secondaryFields" title="第二区块" data-bind="template: {name: 'items-template', data: secondaryFields}"></div>
                    <div class="auxiliary" data-rel="tooltip" data-pass-range="auxiliaryFields" title="辅助区块"   data-bind="template: {name: 'items-template', data: auxiliaryFields}"></div>
                    <div class="operations" data-rel="tooltip" data-pass-range="operation" title="操作区块">
                        <div class="items" data-bind="hScroll: operation.items, hScrollPage: currentOperation">
                            <div data-bind="foreach: operation.items">
                                <div data-bind="css: className()">
                                    <div class="item-label" data-bind="text: itemLabel"></div>
                                    <!-- ko if: format() == 'text' -->
                                    <div class="item-content">
                                        <table data-bind="foreach: messageArray.items" align="center">
                                            <tr>
                                                <th data-bind="text: label"></th>
                                                <td data-bind="text: value"></td>
                                            </tr>
                                        </table>
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if: format() == 'wave' -->
                                    <div class="item-content">
                                        <i class="wave-logo"></i>
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if: format() == 'img' -->
                                    <div class="item-content">
                                        <img src="" alt="" height="115px" data-bind="src:messageImg.img" />
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if: format() == 'qrcode' -->
                                    <div class="item-content" data-bind="qrcode: itemQRCode">
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if: format() == 'barcode' -->
                                    <div class="item-content" data-bind="barcode: itemBarCode">
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if: format() == 'app' -->
                                    <div class="item-content" data-bind="text: itemContent">
                                    </div>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>
                        <div class="dots" data-bind="changeCurrentOperation:currentOperation,visible: operation.items().length > 1, foreach: operation.items">
                            <span class="dot" data-bind="css: {on: $index() == $parent.currentOperation()}"></span>
                        </div>
                    </div>
                </div>
                <div class="foot">
                    <!--a class="share"></a-->
                    <a class="rotate" title="背面信息" data-bind="click: toggleFace,style: {backgroundColor: backgroundColor}"></a>
                </div>
                <!--b class="lt"></b>
                <b class="rt"></b>
                <b class="lb"></b>
                <b class="rb"></b-->
            </div>
            <div class="pass-back">
                <!--div class="head">
                    <a class="trash"></a>
                </div-->
                <div class="content" data-bind="css: {'without-app': !appName()},vScroll: vScrollDependency()">
                    <div>
                        <div class="app">
                            <div id="localImag3" class="icon">
                                <img id="preview3" data-bind="src: icon">
                            </div>
                            <div class="title">
                                <div class="name" data-bind="text: appName"></div>
                                <div class="info" data-bind="text: appInfo"></div>
                            </div>
                            <div class="button"></div>
                        </div>
                        <div data-bind="css: className(), foreach: {data: backFields.items}">
                            <div data-bind="css: className($index(), $parent.backFields)">
                                <div class="item-label" data-bind="text: label"></div>
                                <div class="item-content" data-bind="text: value"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--div class="foot">
                    <a class="rotate" data-bind="click: toggleFace"></a>
                </div-->
            </div>
        </div>
    </div>
    <script type="text/html" id="items-template">
        <div data-bind="css: className(), foreach: items">
            <div data-bind="css: className($index(), $parent)">
                <div class="item-label" data-bind="text: label"></div>
                <div class="item-content" data-bind="text: value"></div>
            </div>
        </div>
    </script>
</div></div>
</div>
<div class="alert alert-error fade" id="browserHeightErr">
    <a class="close" data-dismiss="alert" href="#">&times;</a>
    <h4 class="alert-heading">警告！</h4>
    <div class="alert-body">你的浏览器高度太低，会影响你预览alipass。请更换更大的屏幕。</div>
</div>
<div class="alert alert-error fade" id="browserErr">
    <a class="close" data-dismiss="alert" href="#">&times;</a>
    <h4 class="alert-heading">警告！</h4>
    <div class="alert-body">PASS编辑页面只支持chrome、firefox浏览器，请下载安装 <a href="http://www.baidu.com/s?ie=UTF-8&wd=chrome">chrome</a>、<a href="http://www.baidu.com/s?ie=UTF-8&wd=firefox">firefox</a></div>
</div>

<script type="text/html" id="hd-template">
    <h4>
        第<span data-bind="text: $index() + 1">0</span>项
        <span class="limit" data-bind="visible: $parent.limit > 1 && isFinite($parent.limit)">(最多可添加<span
                data-bind="text: $parent.limit">0</span>项)</span>
    </h4>

    <div class="acts">
        <a href="javascript:;" class="btn btn-link" data-bind="click: $parent.remove">删除</a>
    </div>
</script>

<!--  include/input with {label: "字段标识", bind: "key"} -->

<script type="text/html" id="baseinfounit-template">
    <div class="control-group">
        <label class="control-label">属性类型</label>

        <div class="controls">
            <select data-bind="value: type" disabled="disabled">
                <option value="text" selected="selected">文本</option>
            </select>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">属性名称<span style="color: red;">*</span></label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="如：key_1,系统属性用户不可见" class="span4" data-bind="value: key, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">显示名称</label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="支持字母、数字、汉字，如：我爱阿里派司" class="span4" data-bind="value: label, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">显示内容</label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="显示名称、显示内容至少选择填写一个" class="span4" data-bind="value: value, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
</script>

<script type="text/html" id="infounit-template">
    <div class="control-group">
        <label class="control-label">属性类型</label>

        <div class="controls">
            <select data-bind="value: type">
                <option value="text" selected="selected">文本</option>
                <option value="tel">电话</option>
                <option value="url">网址</option>
                <option value="map">地图</option>
                <option value="shops">门店</option>
            </select>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">属性名称<span style="color: red;">*</span></label>

        <div class="controls">
            <input type="text" name="image" placeholder="如：key_1,系统属性用户不可见" maxlength="20" class="span4" data-bind="value: key, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">显示名称</label>

        <div class="controls">
            <input type="text" name="image" placeholder="支持字母、数字、汉字，如：我爱阿里派司"  class="span4" data-bind="value: label, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">显示内容</label>

        <div class="controls" data-bind="visible:type() != 'text' || model.showBack() == false">
            <input type="text"  class="span4"  placeholder="显示名称、显示内容至少必填一项"  data-bind="value: value, valueUpdate: 'afterkeydown blur'">
        </div>
        <div class="controls" data-bind="visible:model.showBack() == true && type() == 'text'" >
            <textarea class="span4" rows="6" placeholder="显示名称、显示内容至少必填一项" data-bind="value: value, valueUpdate: 'afterkeydown blur'"></textarea>
        </div>
    </div>
</script>

<script type="text/html" id="operation-template">
    <div class="control-group">
        <label class="control-label">展示类型</label>

        <div class="controls">
            <select data-bind="value: format">
                <option value="img">图片</option>
                <option value="url">链接</option>
                <option value="wave" data-bind="visible:model.isAlipayVerify() == 'false'">声波</option>
                <option value="text" data-bind="visible:model.isAlipayVerify() == 'false'">文本</option>
                <option value="barcode" data-bind="visible:model.isAlipayVerify() == 'false'">条码</option>
                <option value="qrcode" data-bind="visible:model.isAlipayVerify() == 'false'">二维码</option>
                <option value="app">应用启动</option>
            </select>
        </div>
    </div>
    <!--二维码和条码核销,声波,图片，链接核销-->
    <div data-bind="visible: format() != 'text' &&  format() != 'app' ">
        <div class="control-group">
            <label class="control-label">辅助文字</label>

            <div class="controls">
                <input type="text" name="image" maxlength="30" placeholder="提示文案" class="span4" data-bind="value: altText, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label"><span style="color: red;">*</span>
                <!-- ko if: format() == 'url' -->
                链接地址
                <!-- /ko -->
                <!-- ko if: format() == 'wave' -->
                核销码
                <!-- /ko -->
                <!-- ko if: format() == 'barcode' -->
                核销码
                <!-- /ko -->
                <!-- ko if: format() == 'qrcode' -->
                核销码
                <!-- /ko -->
               <!-- ko if: format() == 'img' -->
                 图片地址
                <!-- /ko -->
     </label> 
            <!-- ko if: format() == 'img' -->
            <div class="controls" data-bind="with:messageImg">
           		<input type="text" name="image" maxlength="200" class="span4" placeholder="核销码的实际内容"
                   data-bind="value: img, valueUpdate: 'afterkeydown blur'">
			</div>
			<!-- /ko -->
			<!-- ko if: format() != 'img' -->
            <div class="controls">
            	<input type="text" name="image" maxlength="200" class="span4" placeholder="核销码的实际内容"
                   data-bind="value: messageText, valueUpdate: 'afterkeydown blur'">
			</div>
			<!-- /ko -->
        </div>
    </div>
    <!--文字核销-->
    <div data-bind="visible: format() == 'text'">
        <div class="control-group" data-bind="with: messageArray">
            <label class="control-label">内容</label>

            <div data-bind="foreach: {data: items, afterAdd: focusAdded, beforeRemove: removeWithAnimation}">
                <div class="controls message-text" data-bind="sortable: $parent.items">
                    <input type="text" class="span1"  maxlength="80"  placeholder="提示" data-bind="value: label, valueUpdate: 'afterkeydown blur'">
                    <input type="text" class="span2"  maxlength="80"  placeholder="实际内容" data-bind="value: value, valueUpdate: 'afterkeydown blur'">
                    <button class="btn btn-link" type="button"
                            data-bind="click: $parent.remove, enable: $parent.items().length > 1">删除
                    </button>
                </div>
            </div>
            <div class="acts">
                <button class="btn" type="button" data-bind="click: append">添加</button>
            </div>
        </div>
    </div>
    <!--应用打开-->
    <div data-bind="visible: format() == 'app'">
        <div class="control-group">
            <label class="control-label">按钮文字</label>

            <div class="controls">
                <input type="text" name="image" maxlength="30" placeholder="点击后会唤起或下载应用，如：继续购买" class="span4" data-bind="value: altText, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <!-- ko with: messageDict -->
        <div class="control-group">
            <label class="control-label">Android应用ID</label>

            <div class="controls">
                <input type="text" name="image" maxlength="100" class="span4"  placeholder="Android系统里应用的唯一标识"
                       data-bind="value: android_appid, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Android启动地址</label>

            <div class="controls">
                <input type="text" name="image" maxlength="200" class="span4"  placeholder="在Android系统里唤起应用的命令"
                       data-bind="value: android_launch, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Android下载地址</label>

            <div class="controls">
                <input type="text" name="image" maxlength="200" class="span4"   placeholder="Android版应用的下载地址"
                       data-bind="value: android_download, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">iOS应用ID</label>

            <div class="controls">
                <input type="text" name="image" maxlength="100"  placeholder="iOS系统里应用的唯一标识"
                       class="span4" data-bind="value: ios_appid, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">iOS启动地址</label>

            <div class="controls">
                <input type="text" name="image" maxlength="200" class="span4"     placeholder="在iOS系统里唤起应用的命令"
                       data-bind="value: ios_launch, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">iOS下载地址</label>

            <div class="controls">
                <input type="text" name="image" maxlength="200" class="span4"     placeholder="iOS版应用的下载地址"
                       data-bind="value: ios_download, valueUpdate: 'afterkeydown blur'">
            </div>
        </div>
        <!-- /ko -->
    </div>
</script>

<script type="text/html" id="location-template">
    <div class="control-group">
        <label class="control-label">名称</label>

        <div class="controls">
            <input type="text" name="image" maxlength="50" class="span4"  placeholder="门店的名称" data-bind="value: relevantText, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">地址</label>

        <div class="controls">
            <input type="text" name="image" maxlength="200" placeholder="门店所在地址" class="span4" data-bind="value: addr, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">电话</label>

        <div class="controls">
            <input type="text" name="image" maxlength="50"  placeholder="门店的联系电话" class="span4" data-bind="value: tel, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">经度</label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="门店所在经度，如：120.155069" class="span4" data-bind="value: longitude, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">纬度</label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="门店所在纬度，如：30.274089" class="span4" data-bind="value: latitude, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">海拔</label>

        <div class="controls">
            <input type="text" name="image" maxlength="20" placeholder="门店所处海拔，如：49．6" class="span4" data-bind="value: altitude, valueUpdate: 'afterkeydown blur'">
        </div>
    </div>
</script><div class="edit-userGuide">
    <div class="edit-userGuide-tooltip">
        <div class="edit-userGuide-tooltip-body"></div>
        <a class="close-tool" href="javascript:;">x</a>
    </div>
    <div class="edit-userGuide-top"></div>
    <div class="edit-userGuide-left"></div>
    <div class="edit-userGuide-right"></div>
    <div class="edit-userGuide-action">
        <div class="edit-userGuide-errMsg"></div>
        <a class="btn btn-large btn-primary" data-role="nextStep" href="javascript:;">下一步</a>
        <a class="btn btn-large" data-role="skip" style="margin-left: 10px" href="javascript:;">我知道了</a>
    </div>
</div>
<script type="text/javascript" src="js/common/knockout.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/iscroll.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/jquery.event.drag.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/qrcode.min.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/jquery-barcode.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/bootstrap.min.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/bootstrap-colorpicker.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/bootstrap-datetimepicker.min.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/bootstrap-datetimepicker.zh-CN.js" charset="utf-8"></script>
<script type="text/javascript" src="js/common/bootstrap-tooltip.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/userGuideConfig.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/editPassData.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/bindings.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/pass.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/view.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/edit.js" charset="utf-8"></script>
<script type="text/javascript" src="js/passcard/html2canvas.min.js" charset="utf-8"></script>
</body>
</html>

